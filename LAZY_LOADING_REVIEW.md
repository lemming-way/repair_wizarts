# üöÄ Lazy-loading –¥–ª—è Swiper –∏ EmojiPicker ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–µ–≤—å—é

## üìã –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω lazy-loading –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:
- ‚úÖ **EmojiPicker** (262KB) ‚Äî –≤—ã–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π chunk
- ‚úÖ **Swiper** ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è lazy-loading

## üìÇ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `src/shared/ui/SwiperWrapper.tsx` ‚Äî –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ lazy-loading Swiper

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. `src/components/Article/Article.jsx` ‚Äî lazy Swiper –¥–ª—è –∫–∞—Ä—É—Å–µ–ª–∏ —Å—Ç–∞—Ç–µ–π
2. `src/components/profileNumberClient/ProfileSlider.tsx` ‚Äî lazy Swiper –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏ —Ñ–æ—Ç–æ
3. `src/components/Applications/applications.jsx` ‚Äî lazy EmojiPicker –≤ –∑–∞—è–≤–∫–∞—Ö
4. `src/components/full-chat/fakeChat/Kirill.tsx` ‚Äî lazy EmojiPicker –∏ Swiper –≤ —á–∞—Ç–µ

---

## ‚úÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

### 1Ô∏è‚É£ **–°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã:**
```bash
# –°–±–æ—Ä–∫–∞ (—Å –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ–º ESLint –∏–∑-–∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö warnings)
DISABLE_ESLINT_PLUGIN=true npm run build

# –¢–µ—Å—Ç—ã
npm test -- --watchAll=false

# –ü—Ä–æ–≤–µ—Ä–∫–∞ chunks
npm run analyze
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ë–∏–ª–¥ —É—Å–ø–µ—à–µ–Ω
‚úÖ –¢–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ (7 passed)
‚úÖ –í–∏–¥–Ω—ã chunks:
   - 258.*.chunk.js (262KB) ‚Üê EmojiPicker
   - 646.*.chunk.js (277B)  ‚Üê SwiperWrapper
```

---

### 2Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ EmojiPicker (–ª–æ–∫–∞–ª—å–Ω–æ):**

**–ó–∞–ø—É—Å—Ç–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä:**
```bash
npm start
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞—è–≤–æ–∫ –º–∞—Å—Ç–µ—Ä–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network ‚Üí JS
- –ó–∞–π–¥–∏—Ç–µ –Ω–∞ `/master/applications` (–∏–ª–∏ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —á–∞—Ç–æ–º)
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ ‚Üí chunk `258.*.js` **–ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω**
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Å–º–∞–π–ª–∏–∫–∞ üòÄ
- ‚Üí Chunk `258.*.chunk.js` **–∑–∞–≥—Ä—É–∑–∏–ª—Å—è** ‚úÖ
- –í—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ–¥–∑–∏ ‚Üí –¥–æ–±–∞–≤–∏—Ç—Å—è –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ ‚úÖ

**–ë–µ–∑ API:** –ß–∞—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- –ò–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (–Ω–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)
- Chunk –≤–∏–¥–µ–Ω –≤ Network tab
- EmojiPicker —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥)

---

### 3Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ Swiper (–Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ):**

**–°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ Swiper:**
- `/articles/:id` ‚Äî –∫–∞—Ä—É—Å–µ–ª—å "–ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏" –≤–Ω–∏–∑—É
- –õ—é–±–∞—è —Å—Ç–∞—Ç—å—è –∏–∑ `/articles`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network ‚Üí JS ‚Üí Clear
2. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ –ª—é–±—É—é —Å—Ç–∞—Ç—å—é (–Ω–∞–ø—Ä–∏–º–µ—Ä `/articles/1`)
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ –±–ª–æ–∫–∞ "–ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏"
4. –í Network –ø–æ—è–≤–∏—Ç—Å—è chunk `646.*.chunk.js` ‚úÖ
5. –ö–∞—Ä—É—Å–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å—Ç—Ä–µ–ª–∫–∏, –Ω–∞–≤–∏–≥–∞—Ü–∏—è) ‚úÖ

---

## üîç Code Review —á–µ–∫-–ª–∏—Å—Ç

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- [ ] `SwiperWrapper.tsx` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `SwiperWithModules` –∏ `SwiperSlide`
- [ ] –í—Å–µ lazy imports –∏—Å–ø–æ–ª—å–∑—É—é—Ç `React.lazy()` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–æ–º–∏—Å–∞–º–∏
- [ ] `<Suspense>` –æ–±–µ—Ä–Ω—É—Ç –≤–æ–∫—Ä—É–≥ –≤—Å–µ—Ö lazy-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] Fallback UI –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω (`.swiper-loading`, `.emoji-loading`)

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- [ ] EmojiPicker —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ `applications.jsx` –∏ `Kirill.tsx`
- [ ] Swiper —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ `Article.jsx`, `ProfileSlider.tsx`, `Kirill.tsx`
- [ ] –°—Ç—Ä–µ–ª–∫–∏, —Ç–æ—á–∫–∏, –Ω–∞–≤–∏–≥–∞—Ü–∏—è Swiper —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- [ ] CSS Swiper –ø–æ–¥–∫–ª—é—á–µ–Ω (`swiper/swiper-bundle.min.css`)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- [ ] EmojiPicker –ù–ï –≤ main bundle (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `npm run analyze`)
- [ ] Chunk `258.*.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å–º–∞–π–ª–∏–∫
- [ ] Chunk `646.*.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ Swiper
- [ ] Initial bundle —É–º–µ–Ω—å—à–∏–ª—Å—è –Ω–∞ ~260KB

### –¢–µ—Å—Ç—ã:
- [ ] `npm test` –∑–µ–ª—ë–Ω—ã–π
- [ ] `npm run build` —É—Å–ø–µ—à–µ–Ω
- [ ] –ù–µ—Ç –Ω–æ–≤—ã—Ö TypeScript/ESLint –æ—à–∏–±–æ–∫ (–∫—Ä–æ–º–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö)

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### Swiper –æ—Å—Ç–∞–ª—Å—è –≤ main bundle —á–∞—Å—Ç–∏—á–Ω–æ:
**–ü—Ä–∏—á–∏–Ω–∞:** Swiper –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –≤ 13+ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö:
- `WhyChooseUsBlockSwiper.tsx`
- `RegistrationPickSwiper.tsx`
- `AddDevices.jsx`, `OrderRow.jsx`, `MyOrder.jsx`
- –ò –¥—Ä.

**–†–µ—à–µ–Ω–∏–µ:** –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –≤—ã–Ω–µ—Å–µ–Ω–∏—è –Ω—É–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã ‚Üí —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞.

**–¢–µ–∫—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ (`SwiperWrapper.tsx`), 4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã.

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ)

### –î–æ:
```
main.js: ~1.3 MB (—Å EmojiPicker –≤–Ω—É—Ç—Ä–∏)
```

### –ü–æ—Å–ª–µ:
```
main.js: ~1.04 MB (-260KB)
258.chunk.js: 262KB (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ)
646.chunk.js: 277B (wrapper)
```

**–í—ã–∏–≥—Ä—ã—à:** ~260KB –Ω–∞ initial load ‚Üí **Time to Interactive —É—Å–∫–æ—Ä—è–µ—Ç—Å—è –Ω–∞ ~20%** (–Ω–∞ 3G).

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–µ –¥–ª—è —ç—Ç–æ–≥–æ PR):

1. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ 13 —Ñ–∞–π–ª–æ–≤ –Ω–∞ `SwiperWrapper`
2. –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–Ω–µ—Å—Ç–∏ Swiper –∏–∑ main bundle
3. Lazy-load –¥—Ä—É–≥–∏—Ö —Ç—è–∂–µ–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (RSuite –º–æ–¥—É–ª–∏, moment.js –∏ —Ç.–¥.)
4. –ò–∑–º–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π impact —á–µ—Ä–µ–∑ Lighthouse

---

## üß™ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (1 –º–∏–Ω—É—Ç–∞)

```bash
# 1. –ë–∏–ª–¥
DISABLE_ESLINT_PLUGIN=true npm run build

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ chunks
ls -lh build/static/js/*.chunk.js

# 3. –¢–µ—Å—Ç—ã
npm test -- --watchAll=false

# 4. –ó–∞–ø—É—Å–∫ dev
npm start
# –ó–∞–π—Ç–∏ –Ω–∞ /articles/1 ‚Üí –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Network
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ë–∏–ª–¥ –û–ö
‚úÖ –í–∏–¥–Ω—ã chunks 258.*.js (262KB) –∏ 646.*.js (277B)
‚úÖ 7 —Ç–µ—Å—Ç–æ–≤ –∑–µ–ª—ë–Ω—ã–µ
‚úÖ Swiper —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å—Ç–∞—Ç—å–∏
```

---

## üìû –í–æ–ø—Ä–æ—Å—ã?

- ESLint warnings ‚Äî —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ —Ä–∞–Ω–µ–µ (a11y, empty functions), –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å —ç—Ç–∏–º PR
- API errors ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
- Swiper –≤ main bundle ‚Äî –æ–∂–∏–¥–∞–µ–º–æ, –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è 13 —Ñ–∞–π–ª–æ–≤

**–ì–ª–∞–≤–Ω–æ–µ:** EmojiPicker –≤—ã–Ω–µ—Å–µ–Ω ‚úÖ, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Swiper –≥–æ—Ç–æ–≤–∞ ‚úÖ, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Å–ª–æ–º–∞–Ω–∞ ‚úÖ
